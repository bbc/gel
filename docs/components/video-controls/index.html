<!doctype html>
<html lang="en" class="b-pw-1280 b-reith-sans-font b-reith-serif-font no-js">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Code GEL | Video controls</title>

    <script src="/code-gel/static/js/site.js"></script>

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    <link rel="stylesheet" type="text/css" href="/code-gel/static/css/codegel.css">
    <link rel="stylesheet" type="text/css" href="/code-gel/static/css/geldocs.css">

    <script type="text/javascript"> // feature detects
        document.documentElement.className = document.documentElement.className.replace(' no-js', ' js');
        document.documentElement.className += (' ' + ('ontouchstart' in document.documentElement ? 'touch' : 'no-touch'));
        document.documentElement.className += (' ' + ('flexWrap' in document.documentElement.style ? 'flex' : 'no-flex'));
        document.documentElement.className += (' ' + ((document.createElementNS && 'createSVGRect' in document.createElementNS('http://www.w3.org/2000/svg', 'svg')) ? 'svg' : 'no-svg'));
    </script>

    <script type="text/javascript">
        try {
            (new FontFaceObserver('ReithSans', 5000)).load().then(function () {
                document.documentElement.className += ' b-reith-sans-loaded';
            });
            (new FontFaceObserver('ReithSerif', 5000)).load().then(function () {
                document.documentElement.className += ' b-reith-loaded';
            });
        } catch( e ) {
            console.log('Reith fonts did not load within 5 seconds.');
        }
    </script>

    <script type="text/javascript">
        // syntax highlight
        hljs.initHighlightingOnLoad();
    </script>

    
</head>

<body class="geldocs-body">
    <p class="codegel-sr codegel-sr__focusable codegel-sr__overlay" tabindex="0">
        <a href="#main" onfocus="this.parentNode.classList.add('codegel-sr__focused')" onblur="this.parentNode.classList.remove('codegel-sr__focused')">Skip
            to content</a>
    </p>

    <header>
        <div class="geldocs-header gs-u-clearfix">
            <div class="gel-wrap">
                <a href="http://www.bbc.co.uk/"><svg aria-label="BBC GEL Logo" width="100" height="24" viewBox="0 0 100 24">
                        <title>BBC</title>
                        <image xlink:href="/code-gel/static/images/bbc-blocks_grey.svg" src="/code-gel/static/images/bbc-blocks_grey.png"
                            width="100%" height="100%"></image>
                    </svg></a>
            </div>
        </div>
        <div class="geldocs-header__banner gs-u-clearfix">
            <div class="gel-wrap">
                <div class="gel-layout">
                    <div class="gel-layout__item gel-2/5@l" style="text-align:left; padding-left:14px; margin-bottom:32px;">
                        <span class="geldocs-logo">Code{GEL}</span>
                    </div>
                    <div class="gel-layout__item gel-2/5@l gel-pull__right@l" style="margin-bottom: 16px;">
                        <a class="geldocs-button geldocs-button--dark gel-long-primer-bold" href="">
                            Go to BBC GEL
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main id="main" tabindex="-1" class="gel-wrap gs-u-clearfix">
        <div class="gel-layout">
            <div class="gel-layout__item gel-1/5@l">
                <!-- column placeholder-->
            </div>

            <div class="gel-layout__item gel-2/5@l" style="padding-right: 12px;">
                <h1 class="geldocs-header__title">Video controls</h1>
                <p class="geldocs-header__summary gel-great-primer">Custom HTML5 video functionality must be accessible and intuitive</p>
            </div>

            <div class="gel-layout__item gel-1/5@l">
                <dl class="geldocs-standout-box">
                    
                    <dt>Version:</dt>
                    <dd>0.1.0</dd>
                    
                    <dt>Status:</dt>
                    <dd>Draft</dd>
                    <dt>Accessibility:</dt>
                    <dd>Pending</dd>
                </dl>
            </div>
        </div>

        <div class="gel-layout">
            <div class="gel-layout__item gel-1/5@l">
                <nav role="navigation" id="side-nav" class="gel-side-nav sticky" data-sticky-for="900" style="padding-top:32px">
                    <div class="gel-pica gs-u-mb gs-u-mt0">Contents</div>
                    <ol id="geldocs-toc__links" class="geldocs-toc"><li><a href="#introduction">Introduction</a></li><li><a href="#recommended-markup">Recommended markup</a></li><li><a href="#recommended-behaviour">Recommended behaviour</a></li><li><a href="#related-research">Related research</a></li></ol>
                </nav>
            </div>

            <div class="geldocs-sections geldocs-body-copy gel-layout__item gel-3/5@l">
                <h2 id="introduction">Introduction</h2>
<p>Video is an important consideration for a broadcasting company. The BBC presents web-based video in a variety of different ways. Sometimes the video is embedded in a fully-featured player, and in other cases just a couple of basic controls are present. The purpose of this<br>
documentation the recommended interaction design for custom video controls.</p>
<h2 id="recommended-markup">Recommended markup</h2>
<h3 id="baseline">Baseline</h3>
<p>Before enhancing a video instance with custom controls, there are a few fundamental considerations. Here is a code example, with notes to follow.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">controls</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"path/to/video.webm"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"video/webm"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"path/to/video.mp4"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"video/mp4"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">track</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"English"</span> <span class="hljs-attr">kind</span>=<span class="hljs-string">"subtitles"</span> <span class="hljs-attr">srclang</span>=<span class="hljs-string">"en"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"path/to/captions.vtt"</span> <span class="hljs-attr">default</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    Your browser doesn't support HTML5 video.
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"path/to/video.mp4"</span> <span class="hljs-attr">download</span>&gt;</span>Download<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> the video instead.
  <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
</code></pre>
<ol>
<li><strong><code>&lt;video&gt;</code>:</strong> The standard video element is used.</li>
<li><strong><code>mp4</code>:</strong> A well-supported video format is included (optionally with alternative formats via <code>&lt;source&gt;</code> elements).</li>
<li><strong><code>controls</code>:</strong> Controls are activated via the <code>controls</code> Boolean.</li>
<li><strong><code>download</code>:</strong> An option to download the video is provided for browsers not supporting HTML5 video.</li>
<li><strong><code>kind=&quot;subtitles&quot;</code>:</strong> Videos with dialogue need captions, provided in <code>&lt;track&gt;</code> elements. In the following examples, only a single English captions track is provided, but additional languages should be supported where possible.</li>
</ol>
<p>If your video has dialog and you are using custom controls, do one of the following:</p>
<ul>
<li>Display captions by default</li>
<li>Provide custom controls to access captions</li>
<li>Provide an option to switch back to using native controls (which will include captions functionality)</li>
</ul>
<h3 id="enhancement">Enhancement</h3>
<p>Custom controls should be added progressively. Until JavaScript is run, the <code>&lt;video&gt;</code> should take <code>controls</code> to provide the native controls, and any custom controls should be hidden with <code>hidden</code>:</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"codegel-video-container"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"group"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">controls</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"path/to/video.webm"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"video/webm"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"path/to/video.mp4"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"video/mp4"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
      Your browser doesn't support HTML5 video.
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"path/to/video.mp4"</span> <span class="hljs-attr">download</span>&gt;</span>Download<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> the video instead.
    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"codegel-video-controls"</span> <span class="hljs-attr">hidden</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- custom controls here --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>

            <aside class="geldocs-breakout-box geldocs-breakout-box extra-padding" aria-labelledby="aside-info-The-group-role-1">
              <h4 id="aside-info-The-group-role-1" aria-hidden="true"><svg class="geldocs-breakout-box__icon geldocs-icon geldocs-icon--text"><use xlink:href="/code-gel/static/images/gel-icons-core-set.svg#gel-icon-info" style="fill:#404040;"></use></svg>The group role</h4><div><p>Note the inclusion of the ARIA <code>group</code> role<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> in the above example. This communicates to assistive technologies that the video player and custom controls are semantically related.</p>
</aside><p>The JavaScript to switch to the enhanced/custom version is trivial:</p>
<pre class="hljs"><code><span class="hljs-comment">// Where `video` represents the &lt;video&gt; node</span>
<span class="hljs-comment">// and `customControls` the custom controls container</span>
video.controls = <span class="hljs-literal">false</span>;
customControls.hidden = <span class="hljs-literal">false</span>;
</code></pre>
<h3 id="toggle-buttons">Toggle buttons</h3>
<p>Many of the controls for video playback, including <strong>Play</strong> and <strong>Mute</strong>, are simple toggle buttons switching the user between active and inactive states. It is important these controls:</p>
<ol>
<li>Are native <code>&lt;button&gt;</code> elements</li>
<li>Take the <code>type=&quot;button&quot;</code> attribution</li>
<li>Modify their label depending on state</li>
</ol>
<p>In regards to (3), toggle buttons often have a persistent label and communicate state via <code>aria-pressed</code> (<code>true</code> or <code>false</code>). However, video player controls should be easy to voice activate, so their labels must be consistent with their iconography. For example, for the play button:</p>
<ul>
<li>Paused state → shows the familiar triangle-shaped icon → &quot;play&quot;</li>
<li>Playing state → shows the familiar two-vertical-lines icon → &quot;pause&quot;</li>
</ul>
<p>In the <a href="#reference-implementation">reference implementation</a>, an <code>active</code> class is appended to the parent button in its active state. This is used as a styling hook to toggle between the two text labels and their icons. In the following example, <code>class=&quot;code-gel-video-button-play-off</code> is hidden with <code>display: none</code> and it not available to assistive technologies. The calculated accessible name is <em>&quot;Pause&quot;</em>.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"codegel-video-play-button active"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"codegel-video-button-off"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"vh"</span>&gt;</span>Play<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">svg</span>&gt;</span><span class="hljs-comment">&lt;!-- play icon --&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"codegel-video-button-on"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"vh"</span>&gt;</span>Pause<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">svg</span>&gt;</span><span class="hljs-comment">&lt;!-- pause icon --&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<p>The text labels are included as <code>&lt;span&gt;</code>s and hidden visually using the <code>vh</code><sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup> class.</p>
<h4 id="icons">Icons</h4>
<p>Icons for custom controls should be taken from the standard <a href="https://www.bbc.co.uk/gel/guidelines/iconography">GEL Iconography</a> set. They must take <code>aria-hidden=&quot;true&quot;</code> and <code>focusable=&quot;false&quot;</code><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup> to ensure they are not available to assistive technologies or focusable by keyboard.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gel-icon gel-icon--text"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">use</span> <span class="hljs-attr">xlink:href</span>=<span class="hljs-string">"pth/to#gel-icon-play"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">use</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<h3 id="the-timeline">The timeline</h3>
<p>AKA the 'scrub' or progress bar. It has two purposes:</p>
<ol>
<li>To indicate the current progress of the video</li>
<li>To allow the user to select a point along this timeline</li>
</ol>
<p>The timeline must, therefore, be keyboard and screen reader accessible. The <code>type=&quot;range&quot;</code> input is a robust solution.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"timeline"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"codegel-video-scrub-container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"vh"</span>&gt;</span>Timeline<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"range"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"timeline"</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"95.2"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"14.7"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
</code></pre>
<p>Note <code>min</code>, <code>max</code>, and <code>value</code>, which determine the range and the current play position. These values are in seconds. The <code>max</code> and <code>value</code> values map to the <code>&lt;video&gt;</code>'s <code>duration</code> and <code>currentTime</code> properties.</p>
<p>To make these values more readable non-visually, they are rounded up into whole numbers and converted into minutes and seconds to be represented by the <code>aria-valuemin</code>, <code>aria-valuemax</code>, and <code>aria-valuenow</code> properties.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"timeline"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"codegel-video-scrub-container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"vh"</span>&gt;</span>Timeline<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"range"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"timeline"</span> <span class="hljs-attr">min</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">aria-valuemin</span>=<span class="hljs-string">"0 seconds"</span> <span class="hljs-attr">max</span>=<span class="hljs-string">"95.2"</span> <span class="hljs-attr">aria-valuemax</span>=<span class="hljs-string">"1 minutes and 35 seconds"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"14.7"</span> <span class="hljs-attr">aria-valuenow</span>=<span class="hljs-string">"0 minutes and 14 seconds"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
</code></pre>
<h3 id="recommended-layout">Recommended layout</h3>
<p>The layout will differ depending on the context and number of simultaneous controls that are implemented. It is, however, recommended the controls are sufficiently large enough to be targeted by mouse and touch, and they carry clear focus styles.</p>
<pre class="hljs"><code><span class="hljs-selector-class">.codegel-video-container</span> <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">outline</span>: <span class="hljs-number">2px</span> solid $gel-color--tundora;
}
</code></pre>
<p>The <code>type=&quot;range&quot;</code> input (for the timeline) requires a number of proprietary styles to have a custom appearance<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>.</p>
<h4 id="the-controls-container">The controls container</h4>
<p>In the <a href="#reference-implementation">reference implementation</a>, the controls container uses Flexbox to distribute the controls along a horizontal axis. The timeline constiner takes <code>flex: auto</code> to take up any space not taken by surrounding buttons. This makes the control bar responsive and tolerant of different functionality complexity.</p>
<pre class="hljs"><code><span class="hljs-selector-class">.codegel-video-timeline-container</span> {
  <span class="hljs-attribute">flex</span>: auto;
}
</code></pre>
<h2 id="recommended-behaviour">Recommended behaviour</h2>
<h3 id="autoplay">Autoplay</h3>
<p>If the video is set to <code>autoplay</code>, it is imperative the video is muted by default. Some browsers handle this for users already<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup>, but not all. In which case, we need to set the muted state on the <code>loadedmetadata</code> event (when the video has been appended to the DOM):</p>
<pre class="hljs"><code>video.addEventListener(<span class="hljs-string">'loadedmetadata'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (video.autoplay) {
    video.muted = <span class="hljs-literal">true</span>;
  }
});
</code></pre>
<p>It is especially important that autoplaying videos are muted since screen reader users rely on the synthetic voice output of their software to navigate, and this should not be 'talked over' by any video. They will not know where this uninvited noise is coming from, and it may take them some time to locate the video to mute it.</p>
<h3 id="play-and-mute-buttons">Play and mute buttons</h3>
<p>Any play button must switch its label and iconography according to the play state (see <a href="#recommended-markup">Recommended markup</a> for information on labeling and accessible SVGs).</p>
<p>In the <a href="#reference-implementation">reference implementation</a>, both the <strong>Play</strong> and <strong>Mute</strong> buttons take an <code>active</code> class in their active state, to use as a styling hook (this is used to show/hide the appropriate icon and accessible label).</p>
<p>In the <strong>Play</strong> button's case, the button must be switched into an inactive state upon the video ending (otherwise the button's appearance will be out of sync' for successive plays of the video):</p>
<pre class="hljs"><code>self.playButton = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">button, video</span>) </span>{
  button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    video.paused || video.ended ? video.play() : video.pause();
    button.classList.toggle(<span class="hljs-string">'active'</span>);
  });

  video.addEventListener(<span class="hljs-string">'ended'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    button.classList.remove(<span class="hljs-string">'active'</span>);
  });
}
</code></pre>
<h3 id="the-timeline-2">The timeline</h3>
<p>As stated in <a href="#recommended-markup">Recommended markup</a>, the timeline must represent the current state of progress <em>and</em> allow the user to 'scrub' and relocate themselves within the video's duration.</p>
<p>The first part is achieved by linking the input's value to the video's <code>currentTime</code> property within successive <code>'timeupdate'</code> events:</p>
<pre class="hljs"><code>video.addEventListener(<span class="hljs-string">'timeupdate'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  range.value = video.currentTime;
  range.setAttribute(<span class="hljs-string">'aria-valuenow'</span>, getMins(video.currentTime));
});
</code></pre>
<p>Note that <code>aria-valuenow</code> must be updated too, translating the cryptic <code>value</code> of the input for screen reader users. The <code>getMins</code> function converts the value into minutes and seconds:</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> getMins = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">secs</span>) </span>{
  <span class="hljs-keyword">let</span> mins = <span class="hljs-built_in">Math</span>.floor(secs / <span class="hljs-number">60</span>);
  <span class="hljs-keyword">let</span> remainder = secs - mins * <span class="hljs-number">60</span>;
  <span class="hljs-keyword">return</span> mins + <span class="hljs-string">' minutes and '</span> + <span class="hljs-built_in">Math</span>.round(remainder) + <span class="hljs-string">' seconds'</span>;
}
</code></pre>
<p>Searching/scrubbing is accommodated by listening on <code>'input'</code>:</p>
<pre class="hljs"><code>range.addEventListener(<span class="hljs-string">'input'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  video.currentTime = range.value;
});
</code></pre>
<p>The keyboard user is able to focus the input and use the arrow keys to 'scrub' right and left in increments.</p>
<h3 id="reference-implementation">Reference implementation</h3>

            <aside class="geldocs-breakout-box geldocs-breakout-box extra-padding" aria-labelledby="aside-alert-Important-19">
              <h4 id="aside-alert-Important-19" aria-hidden="true"><svg class="geldocs-breakout-box__icon geldocs-icon geldocs-icon--text"><use xlink:href="/code-gel/static/images/gel-icons-core-set.svg#gel-icon-alert" style="fill:#404040;"></use></svg>Important</h4><div><p>Reference implementations are intended to demonstrate <strong>what needs to be achieved</strong>, but not necessarily how to achieve it. That would depend on the technology stack you are working with. The HTML semantics, layout, and behaviour of your implementation should conform to the reference implementation. Your JS framework, CSS methodology, and—most likely—content will differ.</p>
</aside>
          <div class="geldocs-demo"><!-- 
title: Cards
 -->

<div style="margin-bottom: 1rem;">
  <h3>Simple card play/pause</h3>
  <p>This minimal implementation reveals the mute button while the video is playing.</p>
  <div class="codegel-card" style="width: 300px;">
    <div class="codegel-card-headline">
      <h4>The 2001 BBC2 Ident</h4>
    </div>
    <div class="codegel-card-content">
      <video controls src="/code-gel/static/videos/ident_clip.mp4">
        <track label="English" kind="subtitles" srclang="en" src="/code-gel/static/videos/ident.vtt" default>
        <p>
          Your browser doesn't support HTML5 video.
          <a href="/code-gel/static/videos/ident_clip.mp4">Download</a> the video instead.
        </p>
      </video>
      <button class="codegel-video-play-button codegel-card-play-button" type="button" hidden>
        <span class="codegel-video-button-off">
          <span class="vh">Play</span>
          <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true" fill="#fff">
            <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-play"></use>
          </svg>
        </span>
        <span class="codegel-video-button-on">
          <span class="vh">Pause</span>
          <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true" fill="#fff">
            <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-pause"></use>
          </svg>
        </span>
      </button>
      <button class="codegel-video-mute-button codegel-card-mute-button" type="button" hidden>
        <span class="codegel-video-button-off">
          <span class="vh">Mute</span>
          <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true" fill="#fff">
            <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-listen"></use>
          </svg>
        </span>
        <span class="codegel-video-button-on">
          <span class="vh">Unmute</span>
          <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true" fill="#fff">
            <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-sound-off"></use>
          </svg>
        </span>
      </button>
    </div>
    <div class="codegel-card-desc">
      <p>Do you remember the radio controlled car?</p>
    </div>
    <div class="codegel-card-toolbar">
      <button type="button" aria-haspopup="true">More info</button>
      <div class="codegel-card-info" role="group" aria-labelledby="more-info-title-1" hidden>
        <h5 class="codegel-card-info-heading" id="more-info-title-1" tabindex="-1">More info</h5>
        <p>The history of BBC television idents begins in the early 1950s, when the BBC first displayed a logo between
          programmes to identify its service. As new technology has become available, these devices have evolved from
          simple still black and white images to the sophisticated full colour short films seen today. With the arrival
          of digital services in the United Kingdom, and with them many more new channels, branding is perceived by
          broadcasters to be much more important, meaning that idents need to stand out from the competition.</p>
      </div>
      <button type="button" aria-pressed="false">
        <span class="vh">Love</span>
        <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true">
          <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-love-loved-state"></use>
        </svg>
      </button>
      <button type="button">
        <span class="vh">Add</span>
        <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true">
          <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-add"></use>
        </svg>
      </button>
      <button type="button">
        <span class="vh">Share</span>
        <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true">
          <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-share"></use>
        </svg>
      </button>
    </div>
  </div>
  <h3>Play, mute, and scrub</h3>
  <div class="codegel-video-container" style="max-width: 400px">
    <video class=" codegel-video" controls src="/code-gel/static/videos/ident_clip.mp4">
      <track label="English" kind="subtitles" srclang="en" src="/code-gel/static/videos/ident.vtt" default>
      <p>
        Your browser doesn't support HTML5 video.
        <a href="{site.basedir}}static/videos/ident_clip.mp4">Download</a> the video instead.
      </p>
    </video>
    <div class="codegel-video-controls" hidden>
      <button class="codegel-video-play-button" type="button">
        <span class="codegel-video-button-off">
          <span class="vh">Play</span>
          <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true">
            <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-play"></use>
          </svg>
        </span>
        <span class="codegel-video-button-on">
          <span class="vh">Pause</span>
          <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true">
            <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-pause"></use>
          </svg>
        </span>
      </button>
      <label for="timeline" class="codegel-video-timeline-container">
        <span class="vh">Timeline</span>
        <input type="range" id="timeline" />
      </label>
      <button class="codegel-video-mute-button" type="button">
        <span class="codegel-video-button-off">
          <span class="vh">Mute</span>
          <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true">
            <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-listen"></use>
          </svg>
        </span>
        <span class="codegel-video-button-on">
          <span class="vh">Unmute</span>
          <svg class="gel-icon gel-icon--text" focusable="false" aria-hidden="true">
            <use xlink:href="/code-gel/static/images/gel-icons-all.svg#gel-icon-sound-off"></use>
          </svg>
        </span>
      </button>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    window.codegel && codegel.Card.init() && codegel.Video.init();

    // Simple card play/pause
    var cardElem = document.querySelector('.codegel-card');
    var card = new codegel.Card.constructor(cardElem);
    var videoElem1 = cardElem.querySelector('video');
    var video1 = new codegel.Video.videoInit(videoElem1);
    var playElem1 = cardElem.querySelector('.codegel-card-play-button');
    var playButton1 = new codegel.Video.playButton(playElem1, videoElem1);
    var muteElem1 = cardElem.querySelector('.codegel-card-mute-button');
    var mute2 = new codegel.Video.muteButton(muteElem1, videoElem1);
    // Show custom play and mute buttons when video is initialized
    playElem1.hidden = false;
    muteElem1.hidden = false
    // Hide the mute button until the muted video is playing
    muteElem1.hidden = true;
    playElem1.addEventListener('click', function () {
      muteElem1.hidden = !muteElem1.hidden;
    });
    // Hide the mute button at the end so things don't go out of sync
    videoElem1.addEventListener('ended', function () {
      muteElem1.hidden = true;
    })

    // Play, mute, and scrub
    var videoContainer = document.querySelector('.codegel-video-container');
    var videoControls = document.querySelector('.codegel-video-controls');
    // Show custom controls when video is initialized
    videoControls.hidden = false
    var videoElem2 = videoContainer.querySelector('.codegel-video');
    var video2 = new codegel.Video.videoInit(videoElem2);
    var playElem2 = videoContainer.querySelector('.codegel-video-play-button');
    var playButton2 = new codegel.Video.playButton(playElem2, videoElem2);
    var muteElem2 = videoContainer.querySelector('.codegel-video-mute-button');
    var mute2 = new codegel.Video.muteButton(muteElem2, videoElem2);
    var scrubElem = videoContainer.querySelector('[type="range"]');
    var scrub = new codegel.Video.scrub(scrubElem, videoElem2);
  });
</script></div>
        <p><a class="geldocs-button geldocs-button--dark geldocs-long-primer-bold" href="../demos/video/" target="_new">Open in new window <svg class="geldocs-button__icon geldocs-icon geldocs-icon--text"><use xlink:href="/code-gel/static/images/gel-icons-core-set.svg#gel-icon-external-link" style="fill:currentColor"></use></svg></a></p>
<h2 id="related-research">Related research</h2>
<p>This topic does not yet have any related research available.</p>
<h3 id="further-reading%2C-elsewhere-on-the-web">Further reading, elsewhere on the Web</h3>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Using the group role — MDN, <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_group_role">https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_group_role</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Gist of the <code>vh</code> (visually hidden) class,  <a href="https://gist.github.com/Heydon/c8d46c0dd18ce96b5833b3b564e9f472">https://gist.github.com/Heydon/c8d46c0dd18ce96b5833b3b564e9f472</a> <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>IE focus bugs with focusable elements — Simply Accessible,  <a href="https://simplyaccessible.com/article/7-solutions-svgs/#acc-heading-4">https://simplyaccessible.com/article/7-solutions-svgs/#acc-heading-4</a> <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>Styling Cross-browser compatibe range inputs — CSS Tricks, <a href="https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/">https://css-tricks.com/styling-cross-browser-compatible-range-inputs-css/</a> <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn5" class="footnote-item"><p>Autoplay Policy Changes — Google Developers, <a href="https://developers.google.com/web/updates/2017/09/autoplay-policy-changes">https://developers.google.com/web/updates/2017/09/autoplay-policy-changes</a> <a href="#fnref5" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>


                <aside class="geldocs-breakout-box geldocs-breakout-box extra-padding" aria-labelledby="aside-info-Could-you-improve-this-documentation">
                    <h4 id="aside-info-Could-you-improve-this-documentation" aria-hidden="true">
                        <svg class="geldocs-breakout-box__icon geldocs-icon geldocs-icon--text"><use xlink:href="/code-gel/static/images/gel-icons-core-set.svg#gel-icon-info" style="fill:#404040;"></use></svg>Could you improve this documentation?
                    </h4>
                    <div>
                        <p>
                        If you think you could make anything you see here a bit better then become one of our lovely contributors!
                        </p>
                    </div>
                </aside>

            </div>
        </div>
    </main>

    <div class="geldocs-feedback-banner">
        <div class="gel-wrap">
            <div class="gel-layout">
                <div class="gel-layout__item gel-2/3@l gel-3/5@xl">
                    <h2 class="geldocs-feedback-banner__title">Got a minute?</h2>
                    <p>We'd love to know what you think of the Code GEL website.</p>
                    <a href="https://www.smartsurvey.co.uk/s/gel-website-feedback/" class="geldocs-button geldocs-button__link-button geldocs-feedback-banner__cta geldocs-button--primary">
                        <span class="geldocs-button__content">Go to survey</span>
                        <span class="geldocs-button__icon_wrapper">
                            <svg class="geldocs-button__icon geldocs-icon geldocs-icon--text">
                                <use xlink:href="/code-gel/static/images/gel-icons-core-set.svg#gel-icon-external-link"
                                    style="fill:undefined;"></use>
                            </svg>
                        </span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="/code-gel/static/js/codegel.js"></script>

    

    <script type="text/javascript">
        new Sticky('.sticky');
        new MenuSpy(document.querySelector('#geldocs-toc__links'), {enableLocationHash: false});
        new SweetScroll({
            trigger: '#geldocs-toc__links a',
            quickMode: true,
            easing: 'easeOutExpo',
            cancellable: true,
            updateURL: false, 
        });
    </script>
</body>

</html>